
module Main where

  simple : 1
  `c <- simple = close `c

  {- Counter-example to the simply focused type-checker -}
  -- type A = 1 -o 1
  -- type B = 1
  order : ((1 -o 1) * 1 and 1 * 1)
       -o ((1 -o 1) -o 1 or 1 -o 1)
       -o 1
  `e <- order = do
    `c <- recv `e
    `d <- recv `e
    `x <- recv `c
    wait `c
    send `d `x
    wait `d
    close `e
